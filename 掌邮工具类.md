# 掌邮工具类

## 说明

1. 记录一些自定义的第三方库，并且给出相关代码示例

## 模版 (Swift)

```Markdown

### <#基建名字#>
<#作者等基础信息介绍#>

<#这是一段介绍#>

2. <#特别需要注意的属性#>

<#使用时是否需要注意掉用属性的顺序#>

3. <#公开的一些使用方法#>

<#使用时是否需要考虑特殊情况#>

```

## Pod

### [CocoaPods]

[新Mac装CocoaPods](https://juejin.cn/post/7249584657599938597)



### [Homebrew] (https://brew.sh/index_zh-cn)



### [Git LFS] (https://docs.github.com/en/repositories/working-with-files/managing-large-files/installing-git-large-file-storage?platform=mac)

因为接入了 **FluentDarkModeKit**，且现在很多大厂都喜欢lfs，所以要下载 git-lfs

```ruby
brew install git-lfs.
```



### [RY] 

孙思瑞 (@RySi Sun) QQ: 2769119954

> 因为接入了网校学生的第三方库，这里需要注意，其他人的自定义第三库请自己定义一个前缀！

a. 记得更新本地 repo

```ruby
pod repo update
```

b. 记得更新代码

```ruby
pod update
```



## 记录

### Theme

主题颜色

孙思瑞 (@RySi Sun) QQ: 2769119954

**ThemeProtocol** 是一个协议，它规定了 **主题颜色** 需要遵守的协议

a. 如果你想添加新的协议，请仿照 ThemeProtocol 的其他协议

b. `func color<T: UIColor>(_ property: KeyPath<ThemeProtocol, T>) -> T` 用于快速返回其中的color值



**WhiteTheme** 与 **DarkTheme** 是遵循 ThemeProtocol 协议的，其作用是用来返回正常的白天黑夜

a. 其中，有部分颜色没用到，并且以注释为 `[T]` 开头，寓意 **Test**，你可以修改他们，并及时更改注释

b. WhiteTheme 与 DarkTheme 不一定要一一对应，参考下面 UIColor+Theme 文档



**UIColor+Theme**

接入 **FluentDarkModeKit** 第三方库，如果有大佬愿意的话，可以考虑以后手搓，并欢迎和我交流技术

定义了一个中间结构体 `struct _ry: ThemeProtocol`，其符合 ThemeProtocol 协议

a. 利用 `extension UIColor` 中定义静态常量 `static let ry = _ry()`，达到可以使用 `UIColor.ry` 的语法访问

b. 在 **CGColor** 中，使用完整拼写`UIColor.ry`；在 **UIColor** 中，则可以直接拼写`.ry`



**UIColor._ry**

`_ry` 结构体定义了三个获取UIColor的方式

```Swift
    func color(light: UIColor, dark: UIColor) -> UIColor {
        .init(.dm, light: light, dark: dark)
    }
    
    func make<T: UIColor>(_ property: KeyPath<ThemeProtocol, T>) -> UIColor {
        color(light: whiteTheme.color(property), dark: darkTheme.color(property))
    }
    
    func make<T: UIColor, U: UIColor>(_ tProperty: KeyPath<ThemeProtocol, T>, _ uProperty: KeyPath<ThemeProtocol, U>) -> UIColor {
        color(light: whiteTheme.color(tProperty), dark: darkTheme.color(uProperty))
    }
```

使用方法：

```Swift

func test1() {
    let lab = UILabel()
    lab.textColor = .ry.titleColorForPlace_main
}

func test2() {
    let lab = UILabel()
    lab.textColor = .ry.make(\.backgroundColorForPlace_tabBar, \.titleColorForPlace_main)
}

func test3() {
    let lab = UILabel()
    lab.textColor = .ry.color(light: .hex("#114514"), dark: .hex("#415411"))
}

```
